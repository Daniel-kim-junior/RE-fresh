<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="refresh.ManageSystem.repository.AnnualRepository">
  <select id="getAnnualCalData" resultType="AnnualCalVO" parameterType="AnnualCalModel">
    select cast(day(annual_date) as unsigned) as day, sum_count from annual_count where year(annual_date) = #{year} and month(annual_date) = #{month} and
    department_uid in (select department_uid from department where department_name = #{departmentName}) order by day asc;
  </select>
</mapper>